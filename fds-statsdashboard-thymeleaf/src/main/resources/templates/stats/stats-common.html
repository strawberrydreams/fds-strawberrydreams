<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="stats_head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Stats | FDS</title>

    <th:block th:replace="~{fragments/header :: common_head(${title})}"></th:block>

    <link rel="stylesheet" th:href="@{/css/stats.css}">
    <style>
        /* 관리자 통계 전용 스타일 레이아웃 */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Pretendard', 'Segoe UI', sans-serif; background-color: #f4f7f9; }

        /* 통계 컨테이너 및 패널 공통 디자인 */
        .stats-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .panel { background: #fff; border-radius: 12px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .panel__header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .panel__meta { font-size: 13px; color: #888; }

        /* 통계 카드 디자인 */
        .stat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee; }
        .stat-label { display: block; font-size: 13px; color: #666; margin-bottom: 8px; }
        .stat-value { display: block; font-size: 24px; font-weight: bold; color: #007bff; }
        .stat-hint { display: block; font-size: 11px; color: #999; margin-top: 5px; }

        /* 테이블 및 리스트 디자인 */
        .table-wrap { overflow-x: auto; margin-top: 15px; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f8f9fa; padding: 12px; text-align: left; font-size: 13px; color: #555; border-bottom: 2px solid #dee2e6; }
        td { padding: 12px; font-size: 14px; border-bottom: 1px solid #eee; }
        .empty { text-align: center; padding: 40px; color: #999; font-size: 14px; }

        .reason-list { list-style: none; padding: 0; }
        .reason-list li { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f8f9fa; font-size: 14px; }
    </style>
</head>

<body>

<div th:fragment="stat-card(label, value, hint)" class="stat-card">
    <span class="stat-label" th:text="${label}">Label</span>
    <strong class="stat-value" th:text="${value}">0</strong>
    <span class="stat-hint" th:if="${hint != null and hint != ''}" th:text="${hint}">Hint</span>
</div>

<div th:fragment="distribution-list(title, data)">
    <h3 style="font-size: 16px; margin-bottom: 15px; color: #333;" th:text="${title}">Title</h3>
    <ul class="reason-list" th:if="${data != null and !data.isEmpty()}">
        <li th:each="entry : ${data}">
            <span th:text="${entry.key}">Key</span>
            <strong th:text="${#numbers.formatInteger(entry.value, 0, 'COMMA')}">0</strong>
        </li>
    </ul>
    <div class="empty" th:if="${data == null or data.isEmpty()}">데이터가 없습니다.</div>
</div>

<div th:fragment="data-table(headers, rows)" class="table-wrap">
    <table th:if="${rows != null and !rows.isEmpty()}">
        <thead>
        <tr>
            <th th:each="header : ${headers}" th:text="${header}">Header</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="row : ${rows}">
            <td th:each="cell : ${row}" th:text="${cell}">Cell</td>
        </tr>
        </tbody>
    </table>
    <div class="empty" th:if="${rows == null or rows.isEmpty()}">데이터가 없습니다.</div>
</div>

<header th:fragment="page-header(title, subtitle)" class="stats-header" style="margin-bottom: 30px;">
    <div>
        <h1 style="font-size: 28px; color: #1a1a1a;" th:text="${title}">Page Title</h1>
        <p class="subtitle" style="color: #666; margin-top: 5px;" th:text="${subtitle}">Subtitle</p>
    </div>
</header>

<div th:fragment="alert(type, message)"
     class="banner"
     th:classappend="${type == 'error' ? 'banner--error' : (type == 'success' ? 'banner--success' : 'banner--info')}"
     th:if="${message != null and message != ''}"
     th:style="${type == 'error' ? 'background:#fdecea;color:#d32f2f;' : 'background:#e8f5e9;color:#2e7d32;'} + 'padding:15px; border-radius:8px; margin-bottom:20px;'"
     th:text="${message}">
    Alert Message
</div>

</body>
</html>